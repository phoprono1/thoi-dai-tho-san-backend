{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/classes/create-sample":{"post":{"operationId":"ClassesController_createSampleClasses","parameters":[],"responses":{"201":{"description":"Classes đã được tạo thành công"}},"summary":"Tạo classes mẫu (Admin)","tags":["classes"]}},"/classes":{"get":{"operationId":"ClassesController_findAll","parameters":[],"responses":{"200":{"description":"Danh sách classes"}},"summary":"Lấy danh sách tất cả classes","tags":["classes"]}},"/classes/{id}":{"get":{"operationId":"ClassesController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"ID của class","schema":{"type":"string"}}],"responses":{"200":{"description":"Thông tin class"}},"summary":"Lấy thông tin class theo ID","tags":["classes"]}},"/classes/user/{userId}":{"get":{"operationId":"ClassesController_getUserClasses","parameters":[{"name":"userId","required":true,"in":"path","description":"ID của user","schema":{"type":"string"}}],"responses":{"200":{"description":"Danh sách classes đã unlock"}},"summary":"Lấy danh sách classes của user","tags":["classes"]}},"/classes/user/{userId}/active":{"get":{"operationId":"ClassesController_getUserActiveClass","parameters":[{"name":"userId","required":true,"in":"path","description":"ID của user","schema":{"type":"string"}}],"responses":{"200":{"description":"Class đang active"}},"summary":"Lấy class đang active của user","tags":["classes"]}},"/classes/user/{userId}/bonuses":{"get":{"operationId":"ClassesController_getClassBonuses","parameters":[{"name":"userId","required":true,"in":"path","description":"ID của user","schema":{"type":"string"}}],"responses":{"200":{"description":"Bonus stats từ class"}},"summary":"Lấy bonus stats từ class active","tags":["classes"]}},"/classes/user/{userId}/unlock/{classId}":{"post":{"operationId":"ClassesController_unlockClass","parameters":[{"name":"userId","required":true,"in":"path","description":"ID của user","schema":{"type":"string"}},{"name":"classId","required":true,"in":"path","description":"ID của class cần unlock","schema":{"type":"string"}}],"responses":{"201":{"description":"Class đã được unlock"}},"summary":"Unlock class cho user","tags":["classes"]}},"/classes/user/{userId}/active/{userClassId}":{"put":{"operationId":"ClassesController_setActiveClass","parameters":[{"name":"userId","required":true,"in":"path","description":"ID của user","schema":{"type":"string"}},{"name":"userClassId","required":true,"in":"path","description":"ID của user_class","schema":{"type":"string"}}],"responses":{"200":{"description":"Active class đã được cập nhật"}},"summary":"Set class active cho user","tags":["classes"]}},"/auth/login":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string","example":"player1"},"password":{"type":"string","example":"password123"}}}}}},"responses":{"200":{"description":"Đăng nhập thành công, trả về JWT token"},"401":{"description":"Sai thông tin đăng nhập"}},"summary":"Đăng nhập tài khoản","tags":["auth"]}},"/auth/register":{"post":{"operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string","example":"newplayer"},"password":{"type":"string","example":"securepass123"}}}}}},"responses":{"201":{"description":"Đăng ký thành công"},"400":{"description":"Username đã tồn tại hoặc dữ liệu không hợp lệ"}},"summary":"Đăng ký tài khoản mới","tags":["auth"]}},"/users":{"get":{"operationId":"UsersController_findAll","parameters":[],"responses":{"200":{"description":"Danh sách người dùng"}},"summary":"Lấy danh sách tất cả người dùng","tags":["users"]},"post":{"operationId":"UsersController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string","example":"player1"},"email":{"type":"string","example":"player1@example.com"},"level":{"type":"number","example":1},"experience":{"type":"number","example":0},"gold":{"type":"number","example":100}}}}}},"responses":{"201":{"description":"Người dùng đã được tạo"},"400":{"description":"Dữ liệu không hợp lệ"}},"summary":"Tạo người dùng mới","tags":["users"]}},"/users/{id}":{"get":{"operationId":"UsersController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"ID của người dùng","schema":{"type":"string"}}],"responses":{"200":{"description":"Thông tin người dùng"},"404":{"description":"Không tìm thấy người dùng"}},"summary":"Lấy thông tin người dùng theo ID","tags":["users"]},"put":{"operationId":"UsersController_update","parameters":[{"name":"id","required":true,"in":"path","description":"ID của người dùng","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string","example":"updated_player"},"email":{"type":"string","example":"updated@example.com"},"level":{"type":"number","example":5},"experience":{"type":"number","example":1000},"gold":{"type":"number","example":500}}}}}},"responses":{"200":{"description":"Người dùng đã được cập nhật"},"404":{"description":"Không tìm thấy người dùng"}},"summary":"Cập nhật thông tin người dùng","tags":["users"]},"delete":{"operationId":"UsersController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"ID của người dùng","schema":{"type":"string"}}],"responses":{"200":{"description":"Người dùng đã được xóa"},"404":{"description":"Không tìm thấy người dùng"}},"summary":"Xóa người dùng","tags":["users"]}},"/user-stats":{"get":{"operationId":"UserStatsController_findAll","parameters":[],"responses":{"200":{"description":"Danh sách user stats"}},"summary":"Lấy danh sách tất cả user stats","tags":["user-stats"]},"post":{"operationId":"UserStatsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"userId":{"type":"number","example":1},"maxHp":{"type":"number","example":100},"currentHp":{"type":"number","example":100},"attack":{"type":"number","example":20},"defense":{"type":"number","example":10},"critRate":{"type":"number","example":5},"critDamage":{"type":"number","example":150}}}}}},"responses":{"201":{"description":"User stats đã được tạo"},"400":{"description":"Dữ liệu không hợp lệ"}},"summary":"Tạo user stats mới","tags":["user-stats"]}},"/user-stats/{id}":{"get":{"operationId":"UserStatsController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"ID của user stat","schema":{"type":"string"}}],"responses":{"200":{"description":"Thông tin user stat"},"404":{"description":"Không tìm thấy user stat"}},"summary":"Lấy user stats theo ID","tags":["user-stats"]},"put":{"operationId":"UserStatsController_update","parameters":[{"name":"id","required":true,"in":"path","description":"ID của user stat","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"maxHp":{"type":"number","example":120},"currentHp":{"type":"number","example":120},"attack":{"type":"number","example":25},"defense":{"type":"number","example":12},"critRate":{"type":"number","example":7},"critDamage":{"type":"number","example":160}}}}}},"responses":{"200":{"description":"User stats đã được cập nhật"},"404":{"description":"Không tìm thấy user stat"}},"summary":"Cập nhật user stats","tags":["user-stats"]},"delete":{"operationId":"UserStatsController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"ID của user stat","schema":{"type":"string"}}],"responses":{"200":{"description":"User stats đã được xóa"},"404":{"description":"Không tìm thấy user stat"}},"summary":"Xóa user stats","tags":["user-stats"]}},"/user-stats/user/{userId}":{"get":{"operationId":"UserStatsController_findByUserId","parameters":[{"name":"userId","required":true,"in":"path","description":"ID của user","schema":{"type":"string"}}],"responses":{"200":{"description":"User stats của người dùng"},"404":{"description":"Không tìm thấy user stats"}},"summary":"Lấy user stats theo user ID","tags":["user-stats"]}},"/items":{"get":{"operationId":"ItemsController_findAll","parameters":[],"responses":{"200":{"description":"Danh sách items"}},"summary":"Lấy danh sách tất cả items","tags":["items"]},"post":{"operationId":"ItemsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","example":"Iron Sword"},"type":{"type":"string","example":"weapon","enum":["weapon","armor","accessory","consumable"]},"rarity":{"type":"number","example":2,"minimum":1,"maximum":5},"price":{"type":"number","example":200},"stats":{"type":"object","example":{"attack":15,"defense":5}}}}}}},"responses":{"201":{"description":"Item đã được tạo"},"400":{"description":"Dữ liệu không hợp lệ"}},"summary":"Tạo item mới","tags":["items"]}},"/items/{id}":{"get":{"operationId":"ItemsController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"ID của item","schema":{"type":"string"}}],"responses":{"200":{"description":"Thông tin item"},"404":{"description":"Không tìm thấy item"}},"summary":"Lấy thông tin item theo ID","tags":["items"]},"put":{"operationId":"ItemsController_update","parameters":[{"name":"id","required":true,"in":"path","description":"ID của item","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","example":"Steel Sword"},"type":{"type":"string","example":"weapon"},"rarity":{"type":"number","example":3},"price":{"type":"number","example":400},"stats":{"type":"object","example":{"attack":25,"critRate":5}}}}}}},"responses":{"200":{"description":"Item đã được cập nhật"},"404":{"description":"Không tìm thấy item"}},"summary":"Cập nhật thông tin item","tags":["items"]},"delete":{"operationId":"ItemsController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"ID của item","schema":{"type":"string"}}],"responses":{"200":{"description":"Item đã được xóa"},"404":{"description":"Không tìm thấy item"}},"summary":"Xóa item","tags":["items"]}},"/items/create-sample":{"post":{"operationId":"ItemsController_createSampleItems","parameters":[],"responses":{"201":{"description":"Items mẫu đã được tạo"}},"summary":"Tạo items mẫu (Admin)","tags":["items"]}},"/combat/start":{"post":{"operationId":"CombatResultsController_startCombat","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"userIds":{"type":"array","items":{"type":"number"},"example":[1,2],"description":"Danh sách ID người chơi tham gia"},"dungeonId":{"type":"number","example":1,"description":"ID của dungeon"}},"required":["userIds","dungeonId"]}}}},"responses":{"201":{"description":"Trận chiến đã bắt đầu","content":{"application/json":{"schema":{"type":"object","properties":{"result":{"type":"string","example":"victory","enum":["victory","defeat"]},"duration":{"type":"number","example":2500},"rewards":{"type":"object","properties":{"experience":{"type":"number","example":100},"gold":{"type":"number","example":50},"items":{"type":"array","items":{"type":"object","properties":{"itemId":{"type":"number","example":1},"quantity":{"type":"number","example":2}}}}}},"logs":{"type":"array","items":{"type":"object","properties":{"turn":{"type":"number","example":1},"actionOrder":{"type":"number","example":1},"action":{"type":"string","example":"attack"},"userId":{"type":"number","example":1},"details":{"type":"object","properties":{"actor":{"type":"string","example":"player"},"actorName":{"type":"string","example":"hoangpho"},"targetName":{"type":"string","example":"Goblin"},"damage":{"type":"number","example":25},"hpBefore":{"type":"number","example":100},"hpAfter":{"type":"number","example":75},"description":{"type":"string","example":"hoangpho attacks Goblin for 25 damage"},"effects":{"type":"array","items":{"type":"string"},"example":["Chí mạng! x1.5","Hút máu +3 HP"]}}}}}},"teamStats":{"type":"object","properties":{"totalHp":{"type":"number","example":100},"currentHp":{"type":"number","example":75},"members":{"type":"array","items":{"type":"object","properties":{"userId":{"type":"number","example":1},"username":{"type":"string","example":"hoangpho"},"hp":{"type":"number","example":75},"maxHp":{"type":"number","example":100}}}}}}}}}}},"400":{"description":"Dữ liệu không hợp lệ hoặc không đủ stamina"}},"summary":"Bắt đầu trận chiến","tags":["combat"]}},"/combat":{"get":{"operationId":"CombatResultsController_findAll","parameters":[],"responses":{"200":{"description":"Danh sách kết quả chiến đấu"}},"summary":"Lấy danh sách tất cả kết quả chiến đấu","tags":["combat"]}},"/combat/{id}":{"get":{"operationId":"CombatResultsController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"ID của kết quả chiến đấu","schema":{"type":"string"}}],"responses":{"200":{"description":"Thông tin kết quả chiến đấu"},"404":{"description":"Không tìm thấy kết quả chiến đấu"}},"summary":"Lấy kết quả chiến đấu theo ID","tags":["combat"]}},"/combat/user/{userId}":{"get":{"operationId":"CombatResultsController_findByUser","parameters":[{"name":"userId","required":true,"in":"path","description":"ID của người chơi","schema":{"type":"string"}}],"responses":{"200":{"description":"Lịch sử chiến đấu của người chơi"}},"summary":"Lấy lịch sử chiến đấu của người chơi","tags":["combat"]}},"/dungeons":{"get":{"operationId":"DungeonsController_findAll","parameters":[],"responses":{"200":{"description":"Danh sách dungeons"}},"summary":"Lấy danh sách tất cả dungeons","tags":["dungeons"]},"post":{"operationId":"DungeonsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","example":"Dark Forest"},"level":{"type":"number","example":1,"minimum":1},"description":{"type":"string","example":"A dangerous forest filled with monsters"},"monsterCount":{"type":"number","example":5,"minimum":1},"difficulty":{"type":"string","example":"easy","enum":["easy","medium","hard","expert"]},"rewards":{"type":"object","example":{"exp":100,"gold":50,"items":["Health Potion"]}}}}}}},"responses":{"201":{"description":"Dungeon đã được tạo"},"400":{"description":"Dữ liệu không hợp lệ"}},"summary":"Tạo dungeon mới","tags":["dungeons"]}},"/dungeons/{id}":{"get":{"operationId":"DungeonsController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"ID của dungeon","schema":{"type":"string"}}],"responses":{"200":{"description":"Thông tin dungeon"},"404":{"description":"Không tìm thấy dungeon"}},"summary":"Lấy thông tin dungeon theo ID","tags":["dungeons"]},"put":{"operationId":"DungeonsController_update","parameters":[{"name":"id","required":true,"in":"path","description":"ID của dungeon","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","example":"Mystic Cave"},"level":{"type":"number","example":2},"description":{"type":"string","example":"An ancient cave with magical creatures"},"monsterCount":{"type":"number","example":8},"difficulty":{"type":"string","example":"medium"},"rewards":{"type":"object","example":{"exp":200,"gold":100,"items":["Mana Potion","Iron Sword"]}}}}}}},"responses":{"200":{"description":"Dungeon đã được cập nhật"},"404":{"description":"Không tìm thấy dungeon"}},"summary":"Cập nhật thông tin dungeon","tags":["dungeons"]},"delete":{"operationId":"DungeonsController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"ID của dungeon","schema":{"type":"string"}}],"responses":{"200":{"description":"Dungeon đã được xóa"},"404":{"description":"Không tìm thấy dungeon"}},"summary":"Xóa dungeon","tags":["dungeons"]}},"/user-items":{"get":{"operationId":"UserItemsController_findAll","parameters":[],"responses":{"200":{"description":"Danh sách user items"}},"summary":"Lấy danh sách tất cả user items","tags":["user-items"]},"post":{"operationId":"UserItemsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"userId":{"type":"number","example":1},"itemId":{"type":"number","example":1},"quantity":{"type":"number","example":1,"minimum":1},"equipped":{"type":"boolean","example":false}}}}}},"responses":{"201":{"description":"User item đã được tạo"},"400":{"description":"Dữ liệu không hợp lệ"}},"summary":"Tạo user item mới","tags":["user-items"]}},"/user-items/{id}":{"get":{"operationId":"UserItemsController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"ID của user item","schema":{"type":"string"}}],"responses":{"200":{"description":"Thông tin user item"},"404":{"description":"Không tìm thấy user item"}},"summary":"Lấy thông tin user item theo ID","tags":["user-items"]},"put":{"operationId":"UserItemsController_update","parameters":[{"name":"id","required":true,"in":"path","description":"ID của user item","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"userId":{"type":"number","example":1},"itemId":{"type":"number","example":2},"quantity":{"type":"number","example":5},"equipped":{"type":"boolean","example":true}}}}}},"responses":{"200":{"description":"User item đã được cập nhật"},"404":{"description":"Không tìm thấy user item"}},"summary":"Cập nhật thông tin user item","tags":["user-items"]},"delete":{"operationId":"UserItemsController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"ID của user item","schema":{"type":"string"}}],"responses":{"200":{"description":"User item đã được xóa"},"404":{"description":"Không tìm thấy user item"}},"summary":"Xóa user item","tags":["user-items"]}},"/user-items/user/{userId}":{"get":{"operationId":"UserItemsController_findByUserId","parameters":[{"name":"userId","required":true,"in":"path","description":"ID của người chơi","schema":{"type":"string"}}],"responses":{"200":{"description":"Danh sách items của người chơi"}},"summary":"Lấy danh sách items của người chơi","tags":["user-items"]}},"/user-items/add":{"post":{"operationId":"UserItemsController_addItem","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"userId":{"type":"number","example":1},"itemId":{"type":"number","example":1},"quantity":{"type":"number","example":1,"minimum":1}},"required":["userId","itemId"]}}}},"responses":{"201":{"description":"Item đã được thêm vào inventory"},"400":{"description":"Dữ liệu không hợp lệ"}},"summary":"Thêm item vào inventory của người chơi","tags":["user-items"]}},"/user-items/remove":{"post":{"operationId":"UserItemsController_removeItem","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"userId":{"type":"number","example":1},"itemId":{"type":"number","example":1},"quantity":{"type":"number","example":1,"minimum":1}},"required":["userId","itemId"]}}}},"responses":{"200":{"description":"Item đã được loại bỏ khỏi inventory"},"400":{"description":"Dữ liệu không hợp lệ hoặc không đủ số lượng item"}},"summary":"Loại bỏ item khỏi inventory của người chơi","tags":["user-items"]}},"/user-items/upgrade/{userItemId}":{"post":{"operationId":"UserItemsController_upgradeWeapon","parameters":[{"name":"userItemId","required":true,"in":"path","description":"ID của user item cần nâng cấp","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"useLuckyCharm":{"type":"boolean","example":false,"description":"Có sử dụng bùa may mắn không"}}}}}},"responses":{"200":{"description":"Kết quả nâng cấp","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"newLevel":{"type":"number","example":2},"cost":{"type":"number","example":150},"luckyCharmsUsed":{"type":"number","example":0},"finalSuccessRate":{"type":"number","example":80},"roll":{"type":"number","example":45.2},"userItem":{"type":"object"},"statsBonus":{"type":"object"}}}}}},"400":{"description":"Lỗi nâng cấp"}},"summary":"Nâng cấp vũ khí","tags":["user-items"]}},"/user-items/upgrade-info/{userItemId}":{"get":{"operationId":"UserItemsController_getUpgradeInfo","parameters":[{"name":"userItemId","required":true,"in":"path","description":"ID của user item","schema":{"type":"string"}}],"responses":{"200":{"description":"Thông tin nâng cấp","content":{"application/json":{"schema":{"type":"object","properties":{"userItem":{"type":"object"},"nextLevel":{"type":"number","example":2},"cost":{"type":"number","example":150},"baseSuccessRate":{"type":"number","example":80},"canUpgrade":{"type":"boolean","example":true}}}}}}},"summary":"Lấy thông tin nâng cấp của item","tags":["user-items"]}},"/user-items/upgrade-history/{userItemId}":{"get":{"operationId":"UserItemsController_getUpgradeHistory","parameters":[{"name":"userItemId","required":true,"in":"path","description":"ID của user item","schema":{"type":"string"}}],"responses":{"200":{"description":"Lịch sử nâng cấp"}},"summary":"Lịch sử nâng cấp của item","tags":["user-items"]}},"/user-items/equip/{userItemId}":{"put":{"operationId":"UserItemsController_equipItem","parameters":[{"name":"userItemId","required":true,"in":"path","description":"ID của user item","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"equip":{"type":"boolean","example":true,"description":"true = trang bị, false = tháo trang bị"}}}}}},"responses":{"200":{"description":"Cập nhật trạng thái trang bị"}},"summary":"Trang bị/tháo trang bị item","tags":["user-items"]}},"/user-items/equipped/{userId}":{"get":{"operationId":"UserItemsController_getEquippedItems","parameters":[{"name":"userId","required":true,"in":"path","description":"ID của user","schema":{"type":"string"}}],"responses":{"200":{"description":"Danh sách items đã trang bị"}},"summary":"Lấy danh sách items đã trang bị","tags":["user-items"]}},"/levels":{"get":{"operationId":"LevelsController_findAll","parameters":[],"responses":{"200":{"description":"Danh sách levels"}},"summary":"Lấy danh sách tất cả levels","tags":["levels"]},"post":{"operationId":"LevelsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"level":{"type":"number","example":1,"minimum":1},"expRequired":{"type":"number","example":100,"minimum":0},"maxHp":{"type":"number","example":100,"minimum":1},"maxMp":{"type":"number","example":50,"minimum":0},"attack":{"type":"number","example":10,"minimum":0},"defense":{"type":"number","example":5,"minimum":0},"speed":{"type":"number","example":8,"minimum":0}}}}}},"responses":{"201":{"description":"Level đã được tạo"},"400":{"description":"Dữ liệu không hợp lệ"}},"summary":"Tạo level mới","tags":["levels"]}},"/levels/{id}":{"get":{"operationId":"LevelsController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"ID của level","schema":{"type":"string"}}],"responses":{"200":{"description":"Thông tin level"},"404":{"description":"Không tìm thấy level"}},"summary":"Lấy thông tin level theo ID","tags":["levels"]},"put":{"operationId":"LevelsController_update","parameters":[{"name":"id","required":true,"in":"path","description":"ID của level","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"level":{"type":"number","example":2},"expRequired":{"type":"number","example":200},"maxHp":{"type":"number","example":120},"maxMp":{"type":"number","example":60},"attack":{"type":"number","example":12},"defense":{"type":"number","example":6},"speed":{"type":"number","example":9}}}}}},"responses":{"200":{"description":"Level đã được cập nhật"},"404":{"description":"Không tìm thấy level"}},"summary":"Cập nhật thông tin level","tags":["levels"]},"delete":{"operationId":"LevelsController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"ID của level","schema":{"type":"string"}}],"responses":{"200":{"description":"Level đã được xóa"},"404":{"description":"Không tìm thấy level"}},"summary":"Xóa level","tags":["levels"]}},"/levels/level/{level}":{"get":{"operationId":"LevelsController_findByLevel","parameters":[{"name":"level","required":true,"in":"path","description":"Số level","schema":{"type":"string"}}],"responses":{"200":{"description":"Thông tin level"},"404":{"description":"Không tìm thấy level"}},"summary":"Lấy thông tin level theo số level","tags":["levels"]}},"/user-stamina/{userId}":{"get":{"operationId":"UserStaminaController_getUserStamina","parameters":[{"name":"userId","required":true,"in":"path","description":"ID của người chơi","schema":{"type":"string"}}],"responses":{"200":{"description":"Thông tin stamina của người chơi","content":{"application/json":{"schema":{"type":"object","properties":{"userId":{"type":"number","example":1},"currentStamina":{"type":"number","example":8},"maxStamina":{"type":"number","example":10},"lastRegeneration":{"type":"string","format":"date-time","example":"2024-01-01T12:00:00Z"},"nextRegeneration":{"type":"string","format":"date-time","example":"2024-01-01T12:05:00Z"}}}}}},"404":{"description":"Không tìm thấy thông tin stamina của người chơi"}},"summary":"Lấy thông tin stamina của người chơi","tags":["user-stamina"]}},"/room-lobby/create":{"post":{"operationId":"RoomLobbyController_createRoom","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"hostId":{"type":"number","example":1},"dungeonId":{"type":"number","example":1},"name":{"type":"string","example":"Đội săn rồng"},"isPrivate":{"type":"boolean","example":false},"password":{"type":"string","example":"123456"},"minPlayers":{"type":"number","example":1},"maxPlayers":{"type":"number","example":4}},"required":["hostId","dungeonId","name"]}}}},"responses":{"201":{"description":"Phòng đã được tạo thành công"},"400":{"description":"Dữ liệu không hợp lệ"}},"summary":"Tạo phòng chờ mới","tags":["room-lobby"]}},"/room-lobby/{roomId}/join":{"post":{"operationId":"RoomLobbyController_joinRoom","parameters":[{"name":"roomId","required":true,"in":"path","description":"ID của phòng","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"playerId":{"type":"number","example":2},"password":{"type":"string","example":"123456"}},"required":["playerId"]}}}},"responses":{"200":{"description":"Đã tham gia phòng thành công"},"400":{"description":"Không thể tham gia phòng"}},"summary":"Tham gia phòng chờ","tags":["room-lobby"]}},"/room-lobby/{roomId}/leave":{"post":{"operationId":"RoomLobbyController_leaveRoom","parameters":[{"name":"roomId","required":true,"in":"path","description":"ID của phòng","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"playerId":{"type":"number","example":2}},"required":["playerId"]}}}},"responses":{"200":{"description":"Đã rời phòng thành công"}},"summary":"Rời phòng chờ","tags":["room-lobby"]}},"/room-lobby/{roomId}/start":{"post":{"operationId":"RoomLobbyController_startCombat","parameters":[{"name":"roomId","required":true,"in":"path","description":"ID của phòng","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"hostId":{"type":"number","example":1}},"required":["hostId"]}}}},"responses":{"200":{"description":"Trận chiến đã bắt đầu"},"400":{"description":"Không thể bắt đầu trận chiến"}},"summary":"Bắt đầu trận chiến","tags":["room-lobby"]}},"/room-lobby/{roomId}/cancel":{"post":{"operationId":"RoomLobbyController_cancelRoom","parameters":[{"name":"roomId","required":true,"in":"path","description":"ID của phòng","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"hostId":{"type":"number","example":1}},"required":["hostId"]}}}},"responses":{"200":{"description":"Phòng đã được hủy"}},"summary":"Hủy phòng chờ","tags":["room-lobby"]}},"/room-lobby/{roomId}/invite":{"post":{"operationId":"RoomLobbyController_invitePlayer","parameters":[{"name":"roomId","required":true,"in":"path","description":"ID của phòng","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"hostId":{"type":"number","example":1},"playerId":{"type":"number","example":2}},"required":["hostId","playerId"]}}}},"responses":{"200":{"description":"Đã gửi lời mời"}},"summary":"Mời người chơi vào phòng","tags":["room-lobby"]}},"/room-lobby":{"get":{"operationId":"RoomLobbyController_getRoomList","parameters":[{"name":"dungeonId","required":false,"in":"query","description":"Lọc theo dungeon ID","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","description":"Lọc theo trạng thái phòng","schema":{"enum":["waiting","starting","in_combat","completed","cancelled"],"type":"string"}}],"responses":{"200":{"description":"Danh sách phòng chờ"}},"summary":"Lấy danh sách phòng chờ","tags":["room-lobby"]}},"/room-lobby/{roomId}":{"get":{"operationId":"RoomLobbyController_getRoomById","parameters":[{"name":"roomId","required":true,"in":"path","description":"ID của phòng","schema":{"type":"string"}}],"responses":{"200":{"description":"Thông tin phòng chờ"},"404":{"description":"Phòng không tồn tại"}},"summary":"Lấy thông tin phòng chờ","tags":["room-lobby"]}},"/pvp/create":{"post":{"operationId":"PvpController_createMatch","parameters":[],"responses":{"201":{"description":"Trận đấu đã được tạo thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PvpMatch"}}}}},"security":[{"bearer":[]}],"summary":"Tạo trận đấu PVP mới","tags":["PVP - Đấu trường"]}},"/pvp/{matchId}/join":{"post":{"operationId":"PvpController_joinMatch","parameters":[{"name":"matchId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Đã tham gia trận đấu thành công"}},"security":[{"bearer":[]}],"summary":"Tham gia trận đấu PVP","tags":["PVP - Đấu trường"]}},"/pvp/{matchId}/leave":{"post":{"operationId":"PvpController_leaveMatch","parameters":[{"name":"matchId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Đã rời khỏi trận đấu thành công"}},"security":[{"bearer":[]}],"summary":"Rời khỏi trận đấu PVP","tags":["PVP - Đấu trường"]}},"/pvp/{matchId}/start":{"post":{"operationId":"PvpController_startMatch","parameters":[{"name":"matchId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Trận đấu đã bắt đầu","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PvpMatch"}}}}},"security":[{"bearer":[]}],"summary":"Bắt đầu trận đấu PVP","tags":["PVP - Đấu trường"]}},"/pvp/{matchId}/end":{"post":{"operationId":"PvpController_endMatch","parameters":[{"name":"matchId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Trận đấu đã kết thúc","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PvpMatch"}}}}},"security":[{"bearer":[]}],"summary":"Kết thúc trận đấu PVP","tags":["PVP - Đấu trường"]}},"/pvp/{matchId}/cancel":{"post":{"operationId":"PvpController_cancelMatch","parameters":[{"name":"matchId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Trận đấu đã được hủy"}},"security":[{"bearer":[]}],"summary":"Hủy trận đấu PVP","tags":["PVP - Đấu trường"]}},"/pvp/{matchId}/ready":{"put":{"operationId":"PvpController_setPlayerReady","parameters":[{"name":"matchId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Trạng thái đã được cập nhật"}},"security":[{"bearer":[]}],"summary":"Cập nhật trạng thái sẵn sàng","tags":["PVP - Đấu trường"]}},"/pvp/{matchId}/calculate-result":{"post":{"operationId":"PvpController_calculateMatchResult","parameters":[{"name":"matchId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Kết quả trận đấu đã được tính toán"}},"security":[{"bearer":[]}],"summary":"Tính toán kết quả trận đấu","tags":["PVP - Đấu trường"]}},"/pvp/waiting":{"get":{"operationId":"PvpController_getWaitingMatches","parameters":[],"responses":{"200":{"description":"Danh sách trận đấu đang chờ","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PvpMatch"}}}}}},"security":[{"bearer":[]}],"summary":"Lấy danh sách trận đấu đang chờ","tags":["PVP - Đấu trường"]}},"/pvp/{matchId}":{"get":{"operationId":"PvpController_getMatch","parameters":[{"name":"matchId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Chi tiết trận đấu","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PvpMatch"}}}}},"security":[{"bearer":[]}],"summary":"Lấy chi tiết trận đấu","tags":["PVP - Đấu trường"]}},"/pvp/user/matches":{"get":{"operationId":"PvpController_getUserMatches","parameters":[],"responses":{"200":{"description":"Lịch sử trận đấu","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PvpMatch"}}}}}},"security":[{"bearer":[]}],"summary":"Lấy lịch sử trận đấu của người chơi","tags":["PVP - Đấu trường"]}},"/guild/create":{"post":{"operationId":"GuildController_createGuild","parameters":[],"responses":{"201":{"description":"Công hội đã được tạo thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Guild"}}}}},"security":[{"bearer":[]}],"summary":"Tạo công hội mới","tags":["Công hội - Guild"]}},"/guild/{guildId}/join":{"post":{"operationId":"GuildController_requestJoinGuild","parameters":[{"name":"guildId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Đã gửi yêu cầu tham gia công hội"}},"security":[{"bearer":[]}],"summary":"Xin vào công hội","tags":["Công hội - Guild"]}},"/guild/{guildId}/approve/{userId}":{"post":{"operationId":"GuildController_approveMember","parameters":[{"name":"guildId","required":true,"in":"path","schema":{"type":"number"}},{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Đã duyệt thành viên vào công hội"}},"security":[{"bearer":[]}],"summary":"Duyệt thành viên vào công hội","tags":["Công hội - Guild"]}},"/guild/{guildId}/contribute":{"post":{"operationId":"GuildController_contributeGold","parameters":[{"name":"guildId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Đã cống hiến vàng thành công"}},"security":[{"bearer":[]}],"summary":"Cống hiến vàng cho công hội","tags":["Công hội - Guild"]}},"/guild/{guildId}/upgrade":{"post":{"operationId":"GuildController_upgradeGuild","parameters":[{"name":"guildId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Công hội đã được nâng cấp","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Guild"}}}}},"security":[{"bearer":[]}],"summary":"Nâng cấp công hội","tags":["Công hội - Guild"]}},"/guild/{guildId}/assign-role/{userId}":{"put":{"operationId":"GuildController_assignRole","parameters":[{"name":"guildId","required":true,"in":"path","schema":{"type":"number"}},{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Đã bổ nhiệm chức vụ thành công"}},"security":[{"bearer":[]}],"summary":"Bổ nhiệm chức vụ cho thành viên","tags":["Công hội - Guild"]}},"/guild/{guildId}/create-guild-war":{"post":{"operationId":"GuildController_createGuildWar","parameters":[{"name":"guildId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"201":{"description":"Sự kiện công hội chiến đã được tạo","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GuildEvent"}}}}},"security":[{"bearer":[]}],"summary":"Tạo sự kiện công hội chiến","tags":["Công hội - Guild"]}},"/guild":{"get":{"operationId":"GuildController_getGuilds","parameters":[],"responses":{"200":{"description":"Danh sách công hội","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Guild"}}}}}},"security":[{"bearer":[]}],"summary":"Lấy danh sách công hội","tags":["Công hội - Guild"]}},"/guild/{guildId}":{"get":{"operationId":"GuildController_getGuild","parameters":[{"name":"guildId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Chi tiết công hội","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Guild"}}}}},"security":[{"bearer":[]}],"summary":"Lấy chi tiết công hội","tags":["Công hội - Guild"]}},"/guild/user/current":{"get":{"operationId":"GuildController_getUserGuild","parameters":[],"responses":{"200":{"description":"Công hội của người chơi","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Guild"}}}}},"security":[{"bearer":[]}],"summary":"Lấy công hội của người chơi hiện tại","tags":["Công hội - Guild"]}},"/guild/{guildId}/members":{"get":{"operationId":"GuildController_getGuildMembers","parameters":[{"name":"guildId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Danh sách thành viên công hội","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GuildMember"}}}}}},"security":[{"bearer":[]}],"summary":"Lấy danh sách thành viên công hội","tags":["Công hội - Guild"]}},"/guild/{guildId}/events":{"get":{"operationId":"GuildController_getGuildEvents","parameters":[{"name":"guildId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Danh sách sự kiện công hội","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GuildEvent"}}}}}},"security":[{"bearer":[]}],"summary":"Lấy sự kiện của công hội","tags":["Công hội - Guild"]}},"/chat/send":{"post":{"operationId":"ChatController_sendMessage","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendMessageDto"}}}},"responses":{"201":{"description":""}},"tags":["Chat"]}},"/chat/world":{"get":{"operationId":"ChatController_getWorldMessages","parameters":[{"name":"limit","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Chat"]}},"/chat/guild/{guildId}":{"get":{"operationId":"ChatController_getGuildMessages","parameters":[{"name":"guildId","required":true,"in":"path","schema":{"type":"string"}},{"name":"limit","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Chat"]}},"/chat/message/{messageId}":{"delete":{"operationId":"ChatController_deleteMessage","parameters":[{"name":"messageId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Chat"]}},"/world-boss":{"post":{"operationId":"WorldBossController_createBoss","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateWorldBossDto"}}}},"responses":{"201":{"description":""}},"tags":["WorldBoss"]}},"/world-boss/current":{"get":{"operationId":"WorldBossController_getCurrentBoss","parameters":[],"responses":{"200":{"description":""}},"tags":["WorldBoss"]}},"/world-boss/attack":{"post":{"operationId":"WorldBossController_attackBoss","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttackBossDto"}}}},"responses":{"201":{"description":""}},"tags":["WorldBoss"]}},"/world-boss/rankings/{bossId}":{"get":{"operationId":"WorldBossController_getBossRankings","parameters":[{"name":"bossId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["WorldBoss"]}},"/world-boss/rankings":{"get":{"operationId":"WorldBossController_getCurrentBossRankings","parameters":[],"responses":{"200":{"description":""}},"tags":["WorldBoss"]}},"/mailbox":{"get":{"operationId":"MailboxController_getUserMails","parameters":[],"responses":{"200":{"description":""}},"tags":["Mailbox"]}},"/mailbox/unread-count":{"get":{"operationId":"MailboxController_getUnreadCount","parameters":[],"responses":{"200":{"description":""}},"tags":["Mailbox"]}},"/mailbox/send":{"post":{"operationId":"MailboxController_sendMail","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendMailDto"}}}},"responses":{"201":{"description":""}},"tags":["Mailbox"]}},"/mailbox/{mailId}/read":{"post":{"operationId":"MailboxController_markAsRead","parameters":[{"name":"mailId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":""}},"tags":["Mailbox"]}},"/mailbox/{mailId}/claim":{"post":{"operationId":"MailboxController_claimRewards","parameters":[{"name":"mailId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":""}},"tags":["Mailbox"]}},"/mailbox/{mailId}":{"delete":{"operationId":"MailboxController_deleteMail","parameters":[{"name":"mailId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Mailbox"]}},"/character-classes":{"post":{"operationId":"CharacterClassController_createClass","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCharacterClassDto"}}}},"responses":{"201":{"description":""}},"tags":["CharacterClass"]},"get":{"operationId":"CharacterClassController_getAllClasses","parameters":[],"responses":{"200":{"description":""}},"tags":["CharacterClass"]}},"/character-classes/tier/{tier}":{"get":{"operationId":"CharacterClassController_getClassesByTier","parameters":[{"name":"tier","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["CharacterClass"]}},"/character-classes/{id}":{"get":{"operationId":"CharacterClassController_getClassById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["CharacterClass"]}},"/character-classes/advancement/available":{"get":{"operationId":"CharacterClassController_getAvailableAdvancements","parameters":[],"responses":{"200":{"description":""}},"tags":["CharacterClass"]}},"/character-classes/advancement/perform":{"post":{"operationId":"CharacterClassController_performAdvancement","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PerformAdvancementDto"}}}},"responses":{"201":{"description":""}},"tags":["CharacterClass"]}},"/character-classes/advancement/history":{"get":{"operationId":"CharacterClassController_getAdvancementHistory","parameters":[],"responses":{"200":{"description":""}},"tags":["CharacterClass"]}},"/donors":{"post":{"operationId":"DonorController_createDonor","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDonorDto"}}}},"responses":{"201":{"description":""}},"tags":["Donor"]},"get":{"operationId":"DonorController_getAllDonors","parameters":[],"responses":{"200":{"description":""}},"tags":["Donor"]}},"/donors/stats":{"get":{"operationId":"DonorController_getDonorStats","parameters":[],"responses":{"200":{"description":""}},"tags":["Donor"]}},"/donors/top":{"get":{"operationId":"DonorController_getTopDonors","parameters":[{"name":"limit","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Donor"]}},"/donors/{id}":{"get":{"operationId":"DonorController_getDonorById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Donor"]},"put":{"operationId":"DonorController_updateDonor","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateDonorDto"}}}},"responses":{"200":{"description":""}},"tags":["Donor"]},"delete":{"operationId":"DonorController_deleteDonor","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Donor"]}},"/donors/user/{userId}":{"get":{"operationId":"DonorController_getDonorsByUser","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Donor"]}}},"info":{"title":"Thời Đại Thợ Săn API","description":"API documentation cho game Thời Đại Thợ Săn","version":"1.0","contact":{}},"tags":[{"name":"users","description":"Quản lý người dùng"},{"name":"auth","description":"Xác thực và đăng nhập"},{"name":"classes","description":"Hệ thống class và kỹ năng"},{"name":"combat","description":"Hệ thống chiến đấu"},{"name":"items","description":"Quản lý vật phẩm"},{"name":"dungeons","description":"Quản lý dungeon"},{"name":"user-stamina","description":"Quản lý stamina"}],"servers":[],"components":{"schemas":{"PvpMatch":{"type":"object","properties":{}},"Guild":{"type":"object","properties":{}},"GuildEvent":{"type":"object","properties":{}},"GuildMember":{"type":"object","properties":{}},"SendMessageDto":{"type":"object","properties":{}},"CreateWorldBossDto":{"type":"object","properties":{}},"AttackBossDto":{"type":"object","properties":{}},"SendMailDto":{"type":"object","properties":{}},"CreateCharacterClassDto":{"type":"object","properties":{}},"PerformAdvancementDto":{"type":"object","properties":{}},"CreateDonorDto":{"type":"object","properties":{}},"UpdateDonorDto":{"type":"object","properties":{}}}}}